<div class="customer_detail_page mx-3 my-3">
  <div class="row" *ngIf="!showNewPaymentMethodForm">
    <div class="col-12">
      <button class="btn btn-primary" (click)="addNewPaymentMethod()">
        Add New Payment Method
      </button>
    </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-12">
        <h3>Payment Methods:</h3>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <div class="error">
          {{addPaymentMethodError.message}}
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12">

        <form *ngIf="showNewPaymentMethodForm" (ngSubmit)="submitForm()" #newPaymentMethodForm="ngForm">
          <div class="form-group">
            <label for="number">Number</label>
            <input type="tel" class="form-control" [(ngModel)]="paymentMethodDetail.card.number" name="number" id="number">
          </div>
          <div class="form-group">
            <label for="number">Exp Month</label>
            <input type="tel" class="form-control" [(ngModel)]="paymentMethodDetail.card.exp_month" name="expMonth" id="expMonth">
          </div>
          <div class="form-group">
            <label for="number">Exp Year</label>
            <input type="tel" class="form-control" [(ngModel)]="paymentMethodDetail.card.exp_year" name="expYear" id="expYear">
          </div>
          <div class="form-group">
            <label for="cvc">CVC</label>
            <input type="tel" class="form-control" [(ngModel)]="paymentMethodDetail.card.cvc" name="cvc" id="cvc">
          </div>
          <button type="submit" class="btn btn-primary">Submit</button>
        </form>
        <ul class="list-group" *ngIf="!showNewPaymentMethodForm">
          <li class="list-group-item" *ngFor="let paymentMethod of paymentMethods">{{paymentMethod.card.brand | uppercase}} - {{paymentMethod.card.last4}}</li>
        </ul>
      </div>

    </div>
    <div class="row">
      <div class="col-12">
        <h3>Charges:</h3>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <ul class="list-group" *ngIf="!showNewPaymentMethodForm">
          <li class="list-group-item" *ngFor="let charge of charges" (click)="goToChargeDetail(charge.id)">{{charge.id}}}</li>
        </ul>
      </div>
    </div>
  </div>
</div>
